import{c as d,o as i,a as e,r as m,w as V,b as A,d as S,e as h,f as v,v as _,g as k,t as z,F as P,h as C,u as L,i as M}from"./index-D6er3wSj.js";import{u as U,P as F}from"./PropertyCard-HA2ltfsn.js";import{P as N}from"./PropertyCardSkeleton-C8XcgVFY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T="./assets/real-estate-bg-Dj8zlvrj.jpg",$={class:"relative h-[500px] bg-cover bg-center flex items-center"},E={__name:"HeroSection",setup(D){const g=()=>{const n=document.getElementById("properties");n&&n.scrollIntoView({behavior:"smooth"})};return(n,o)=>(i(),d("section",$,[o[2]||(o[2]=e("img",{src:T,alt:"Городской пейзаж",class:"absolute inset-0 w-full h-full object-cover"},null,-1)),o[3]||(o[3]=e("div",{class:"absolute inset-0 bg-black bg-opacity-40"},null,-1)),e("div",{class:"container mx-auto px-4 text-white relative z-10 text-center"},[o[0]||(o[0]=e("h1",{class:"text-5xl font-bold mb-6 animate-fade-in"}," Найдите свой идеальный дом ",-1)),o[1]||(o[1]=e("p",{class:"text-2xl mb-8 max-w-2xl mx-auto animate-fade-in delay-100"}," Лучшие предложения недвижимости в вашем городе ",-1)),e("button",{onClick:g,class:"bg-white text-blue-600 px-8 py-4 rounded-full font-bold hover:bg-gray-100 transition-all transform hover:scale-105 animate-fade-in delay-200"}," Смотреть предложения ")])]))}},H={class:"home-page relative overflow-hidden"},I={class:"relative z-10 bg-white/80 backdrop-blur-sm py-8"},q={class:"container mx-auto px-4"},Q={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100"},R={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},G={class:"md:col-span-2"},J={class:"relative"},K={class:"mt-4 flex justify-between items-center"},O={class:"text-sm text-gray-500"},W={id:"properties",class:"container mx-auto px-4 py-12 relative z-10"},X={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100"},Y={class:"flex items-center gap-3 bg-white/90 backdrop-blur-sm rounded-xl p-2 shadow-sm"},Z={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ee={key:1,class:"bg-white/90 backdrop-blur-sm rounded-2xl p-8 text-center shadow-sm border border-gray-100"},te={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ie={__name:"HomePage",setup(D){const g=L(),n=U(),o=m(!0),u=m(""),c=m(""),p=m(""),b=m("date_desc");V(()=>n.properties,()=>{o.value=!1},{immediate:!0}),A(async()=>{try{o.value=!0,await n.fetchProperties()}catch(l){console.error("Ошибка загрузки:",l)}finally{o.value=!1}});const f=S(()=>{const l=n.properties;let s=(Array.isArray(l)?l:l!=null&&l.value?l.value:[]).map(r=>({...r,images:Array.isArray(r.images)?r.images:[]}));if(u.value){const r=u.value.toLowerCase();s=s.filter(a=>{var x,y,w;return((x=a.title)==null?void 0:x.toLowerCase().includes(r))||((y=a.description)==null?void 0:y.toLowerCase().includes(r))||((w=a.location)==null?void 0:w.toLowerCase().includes(r))})}switch(c.value&&(s=s.filter(r=>r.type===c.value)),p.value&&(s=s.filter(r=>r.price<=Number(p.value))),b.value){case"price_asc":return s.sort((r,a)=>(r.price||0)-(a.price||0));case"price_desc":return s.sort((r,a)=>(a.price||0)-(r.price||0));case"date_asc":return s.sort((r,a)=>new Date(r.created_at||0)-new Date(a.created_at||0));default:return s.sort((r,a)=>new Date(a.created_at||0)-new Date(r.created_at||0))}}),j=()=>{u.value="",c.value="",p.value="",b.value="date_desc"},B=l=>{g.push({name:"PropertyDetail",params:{id:l}})};return(l,t)=>(i(),d("div",H,[t[12]||(t[12]=e("div",{class:"fixed inset-0 overflow-hidden pointer-events-none"},[e("div",{class:"absolute top-0 left-1/4 w-64 h-64 bg-blue-100 rounded-full filter blur-3xl opacity-20 animate-float-slow"}),e("div",{class:"absolute top-1/3 right-1/4 w-80 h-80 bg-indigo-100 rounded-full filter blur-3xl opacity-20 animate-float-medium"}),e("div",{class:"absolute bottom-0 left-1/2 w-72 h-72 bg-purple-100 rounded-full filter blur-3xl opacity-20 animate-float-fast"})],-1)),h(E),e("div",I,[e("div",q,[e("div",Q,[e("div",R,[e("div",G,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Поиск",-1)),e("div",J,[v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),type:"text",placeholder:"Введите ключевые слова...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,u.value]]),t[4]||(t[4]=e("div",{class:"absolute left-3 top-2.5 text-gray-400"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Тип недвижимости",-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>c.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},t[6]||(t[6]=[e("option",{value:""},"Все",-1),e("option",{value:"apartment"},"Квартира",-1),e("option",{value:"house"},"Дом",-1),e("option",{value:"commercial"},"Коммерческая",-1)]),512),[[k,c.value]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Цена до, ₽",-1)),v(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),type:"number",placeholder:"Макс. цена",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,p.value]])])]),e("div",K,[e("div",O," Найдено: "+z(f.value.length)+" объектов ",1),e("button",{onClick:j,class:"text-sm text-blue-600 hover:text-blue-800"}," Сбросить фильтры ")])])])]),e("div",W,[e("div",X,[t[11]||(t[11]=e("div",null,[e("h2",{class:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"}," Наши предложения "),e("p",{class:"text-gray-600 mt-1"},"Подберите недвижимость своей мечты")],-1)),e("div",Y,[t[10]||(t[10]=e("label",{class:"text-sm text-gray-700"},"Сортировка:",-1)),v(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>b.value=s),class:"pl-3 pr-8 py-1.5 text-sm border border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white/50"},t[9]||(t[9]=[e("option",{value:"price_asc"},"Цена (по возрастанию)",-1),e("option",{value:"price_desc"},"Цена (по убыванию)",-1),e("option",{value:"date_desc"},"Сначала новые",-1),e("option",{value:"date_asc"},"Сначала старые",-1)]),512),[[k,b.value]])])]),o.value?(i(),d("div",Z,[(i(),d(P,null,C(6,s=>h(N,{key:s})),64))])):f.value.length===0?(i(),d("div",ee)):(i(),d("div",te,[(i(!0),d(P,null,C(f.value,s=>(i(),M(F,{key:s.id,property:s,onClick:r=>B(s.id),class:"transform hover:scale-[1.02] transition-transform duration-300 cursor-pointer hover:shadow-lg"},null,8,["property","onClick"]))),128))]))])]))}};export{ie as default};
